{"version":3,"file":"script.js","mappings":"yBAAO,IAAMA,EAAS,SAACC,GACtB,IAAQC,EAAWD,EAAGE,wBAAdD,OACAE,EAAgBC,OAAhBD,YAiBR,MAAO,CAAEE,QAAS,EAAGC,MAfH,SAACC,GAClB,GAAIA,EAAM,EACT,OAAO,IACD,GAAIA,GAAOJ,EAAcH,EAAGQ,aAAc,CAChD,IAAMC,EAAcN,EAAcH,EAAGQ,aAGrC,OADmBE,QAAsB,IADrBH,EAAME,EAAe,KACKE,QAAQ,GAEvD,CACC,OAAO,CAET,CAI4BC,CAAUX,GACvC,EAEaY,EAAe,SAACb,GAAwC,IAApCc,EAAQC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACtCG,EADiDH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,IAC/Bf,EAAGmB,cACnBC,EAAqBN,EAArBM,UAAWC,EAAUP,EAAVO,MACbC,EAAWF,EAAYC,GAASA,EAEhCE,EAAYxB,EAAOmB,GAAKZ,MAG9B,GAAI,GAAKiB,GAAa,IAAK,CAC1B,IACMC,EADcD,EAAYD,GACI,GAAiB,GAAXA,GAE1CtB,EAAGyB,MAAMC,IAAM,GAAHC,OAAMH,EAAY,KAC9BxB,EAAGyB,MAAMG,UAAY,eAAHD,OAAkBH,EAAY,KACjD,CACD,EAEaK,EAAa,SAAC7B,GAAyB,IAC7CkB,EADgCH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,IACdf,EAAGmB,cAErBI,EAAYxB,EAAOmB,GAAKZ,MAG9B,GAAI,GAAKiB,GAAa,IAAK,CAC1B,IAAMO,EAAcC,KAAKC,IAAI,EAAG,EAAKT,EAAY,IAAO,IAExDvB,EAAGyB,MAAMQ,MAAQH,CAClB,CACD,EC/CAI,SAASC,iBAAiB,oBAAoB,WACjCD,SAASE,iBAAiB,4BAClCC,SAAQ,SAAArC,GACX,IAEAsC,EAFmBC,KAAKC,MAAMxC,EAAGyC,QAAQC,YACjCC,QACAC,UAAAA,OAAS,IAAAN,EAAG,CAAC,EAACA,EACtBO,EAAkDD,EAA1CE,KAAMC,OAAO,IAAAF,EAAG,OAAMA,EAAAG,EAAoBJ,EAAlB9B,SAAAA,OAAQ,IAAAkC,EAAG,CAAC,EAACA,EAEvCC,EAAOjD,EAAGkD,cAAc,kBAE1B,aAAeH,GAAWE,IAC7BpC,EAAaoC,EAAMnC,EAAUd,GAE7BkC,SAASC,iBAAiB,UAAU,WACnCtB,EAAaoC,EAAMnC,EAAUd,EAC9B,KAEG,WAAa+C,GAAWE,IAC3BpB,EAAWoB,EAAMjD,GAEjBkC,SAASC,iBAAiB,UAAU,WACnCN,EAAWoB,EAAMjD,EAClB,KAGDA,EAAGmD,gBAAgB,aACpB,GACD,G","sources":["webpack://block/./src/utils/functions.js","webpack://block/./src/script.js"],"sourcesContent":["export const inView = (el) => {\r\n\tconst { bottom } = el.getBoundingClientRect();\r\n\tconst { innerHeight } = window;\r\n\r\n\tconst calculate = (btm) => {\r\n\t\tif (btm < 0) {\r\n\t\t\treturn 100;\r\n\t\t} else if (btm <= innerHeight + el.clientHeight) {\r\n\t\t\tconst totalHeight = innerHeight + el.clientHeight;\r\n\t\t\tconst reversePer = (btm / totalHeight) * 100;\r\n\t\t\tconst percentage = Number((-reversePer + 100).toFixed(2));\r\n\t\t\treturn percentage;\r\n\t\t} else {\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t}\r\n\r\n\t// const rsBottom = bottom - innerHeight;\r\n\r\n\treturn { reached: 0, leave: calculate(bottom) }\r\n};\r\n\r\nexport const parallaxInit = (el, parallax = {}, parentEl = false) => {\r\n\tconst pEl = parentEl || el.parentElement;\r\n\tconst { isReverse, speed } = parallax;\r\n\tconst newSpeed = isReverse ? speed : -speed;\r\n\r\n\tconst screenPos = inView(pEl).leave;\r\n\r\n\t// If block is shown on screen\r\n\tif (0 <= screenPos <= 100) {\r\n\t\tconst speedAmount = screenPos * newSpeed;\r\n\t\tconst makeInCenter = speedAmount + (50 - (newSpeed * 50));\r\n\r\n\t\tel.style.top = `${makeInCenter}%`;\r\n\t\tel.style.transform = `translateY(-${makeInCenter}%)`;\r\n\t}\r\n}\r\n\r\nexport const zoomInInit = (el, parentEl = false) => {\r\n\tconst pEl = parentEl || el.parentElement;\r\n\r\n\tconst screenPos = inView(pEl).leave;\r\n\r\n\t// If block is shown on screen\r\n\tif (0 <= screenPos <= 100) {\r\n\t\tconst scaleAmount = Math.max(1, 1 + (screenPos / 100) * 0.5);\r\n\r\n\t\tel.style.scale = scaleAmount;\r\n\t}\r\n}","import './style.scss';\r\nimport { parallaxInit, zoomInInit } from './utils/functions';\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\tconst els = document.querySelectorAll('.wp-block-evb-background');\r\n\tels.forEach(el => {\r\n\t\tconst attributes = JSON.parse(el.dataset.attributes);\r\n\t\tconst { wrapper } = attributes;\r\n\t\tconst { animation = {} } = wrapper;\r\n\t\tconst { type: aniType = 'none', parallax = {} } = animation;\r\n\r\n\t\tconst bgEl = el.querySelector('.evbBackground');\r\n\r\n\t\tif ('parallax' === aniType && bgEl) {\r\n\t\t\tparallaxInit(bgEl, parallax, el);\r\n\r\n\t\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\t\tparallaxInit(bgEl, parallax, el);\r\n\t\t\t});\r\n\t\t}\r\n\t\tif ('zoomIn' === aniType && bgEl) {\r\n\t\t\tzoomInInit(bgEl, el);\r\n\r\n\t\t\tdocument.addEventListener('scroll', () => {\r\n\t\t\t\tzoomInInit(bgEl, el);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tel.removeAttribute('attributes');\r\n\t});\r\n});"],"names":["inView","el","bottom","getBoundingClientRect","innerHeight","window","reached","leave","btm","clientHeight","totalHeight","Number","toFixed","calculate","parallaxInit","parallax","arguments","length","undefined","pEl","parentElement","isReverse","speed","newSpeed","screenPos","makeInCenter","style","top","concat","transform","zoomInInit","scaleAmount","Math","max","scale","document","addEventListener","querySelectorAll","forEach","_wrapper$animation","JSON","parse","dataset","attributes","wrapper","animation","_animation$type","type","aniType","_animation$parallax","bgEl","querySelector","removeAttribute"],"sourceRoot":""}